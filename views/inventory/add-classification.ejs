<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head') %>
        <title>Add New Classification</title>

        <script>
            function validateForm() {
                const input = document.getElementById('classification_name').value;
                const regex = /^[A-Za-z0-9]+$/; // Alphanumeric only, no spaces or special chars
                if (!regex.test(input)) {
                    alert('Classification name must be alphanumeric with no spaces or special characters.');
                    return false;
                }
                return true;
            }
        </script>
</head>

<body>
    <%- nav %>

        <main>
            <% if (message) { %>
                <div class="flash-message">
                    <%= message %>
                </div>
                <% } %>

                    <% if (errors && errors.length> 0) { %>
                        <div class="error-message">
                            <ul>
                                <% errors.forEach(error=> { %>
                                    <li>
                                        <%= error.msg %>
                                    </li>
                                    <% }) %>
                            </ul>
                        </div>
                        <% } %>

                            <form action="/inv/add-classification" method="POST" onsubmit="return validateForm()">
                                <label for="classification_name">Classification Name:</label>
                                <input type="text" id="classification_name" name="classification_name" required
                                    pattern="[A-Za-z0-9]+"
                                    title="Only letters and numbers, no spaces or special characters" autofocus />
                                <button type="submit">Add Classification</button>
                            </form>

                            <p><a href="/inv/">Back to Management View</a></p>
        </main>

        <%- include('../partials/footer') %>
</body>

</html>