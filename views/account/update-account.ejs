<% layout('layouts/layout') %>

    <h1>
        <%= title %>
    </h1>

    <% if (messages && messages.notice) { %>
        <ul class="notice">
            <% messages.notice.forEach(msg=> { %>
                <li>
                    <%= msg %>
                </li>
                <% }) %>
        </ul>
        <% } %>

            <% if (errors && errors.length> 0) { %>
                <ul class="notice">
                    <% errors.forEach(error=> { %>
                        <li>
                            <%= error.msg %>
                        </li>
                        <% }) %>
                </ul>
                <% } %>

                    <div class="forms-container">
                        <section class="account-update-form">
                            <h2>Update Account Information</h2>
                            <form id="accountUpdateForm" action="/account/update" method="post">
                                <label for="account_firstname">First Name:</label>
                                <input type="text" id="account_firstname" name="account_firstname" required
                                    value="<%= locals.account_firstname %>">

                                <label for="account_lastname">Last Name:</label>
                                <input type="text" id="account_lastname" name="account_lastname" required
                                    value="<%= locals.account_lastname %>">

                                <label for="account_email">Email:</label>
                                <input type="email" id="account_email" name="account_email" required
                                    value="<%= locals.account_email %>">

                                <input type="hidden" name="account_id" value="<%= locals.account_id %>">
                                <button type="submit">Update Account</button>
                            </form>
                        </section>

                        <section class="password-change-form">
                            <h2>Change Password</h2>
                            <form id="passwordChangeForm" action="/account/update-password" method="post">
                                <label for="account_password">New Password:</label>
                                <input type="password" id="account_password" name="account_password" required>
                                <p class="password-info">Password must be at least 12 characters and include an
                                    uppercase letter, number, and special character.</p>

                                <input type="hidden" name="account_id" value="<%= locals.account_id %>">
                                <button type="submit">Change Password</button>
                            </form>
                        </section>
                    </div>